# 晚饭报销系统


## 使用说明

#### 用户管理
1. 添加加班记录或付款记录前，请确保加班人已存在，若不存在，请先新建用户。
2. 右上角选择当前操作人，加班记录和付费记录页面会自动按照当前操作人的名字进行搜索和自动填充表单。
#### 自费加班时请填写加班记录
1.	默认搜索当前操作人近三个月的加班记录。
2.	新增编辑时必填加班人（会自动填充当前操作人），加班日期（可多选），支付类型（默认自费），同一个加班人在同一个日期只能添加一条，若周六中晚加两次，另建一条日期选择周日，备注周六加班。

####	非自费加班的记录由付款者填写付款记录
1. 默认搜索当前操作人近三个月的付款记录。
2. 新增编辑时必填付款人（会自动填充当前操作人），加班人（可多选），支付金额（当天付款总额），加班日期（单选），其中加班人不论是否选择了付款人，保存时都会自动将付款人加进去，每个人当天的消费额=支付金额/加班人数。
3. 付款记录添加后，会自动添加相关加班人的加班记录，若某加班人当天的加班记录已存在则直接覆盖，编辑时去掉某加班人或者删除整条付款记录，相关加班人当天的加班记录也会随之删除。
####	统计功能
1.	默认搜索未处理过（新建状态）的加班记录，点击统计只计算当前搜索结果下的数据，统计前请各位加班人仔细核对自己的加班记录，避免漏填。
2.	发票交后点击“发票交啦”，相关加班记录的状态更新为“已交发票”，可在统计日志页面查看这条统计记录，报销后点击“报销”按钮，相关的加班记录状态更新为已报销。





## 项目说明

> Vue + node.js + express + mongoose
### 启动前端项目步骤

#### 1.运行命令
`npm install`

#### 2.完成后，再运行命令
`npm run dev`

#### 2.完成后，再运行命令
`npm run build`

(在server/public生成编译后文件)

### 启动后端服务步骤

#### 1.在server目录运行命令
`npm install`

#### 2.完成后，再运行命令
`npm start`
